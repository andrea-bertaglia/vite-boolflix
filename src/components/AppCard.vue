<script>


export default {
    props: {
        cardObj: Object,
    },
    data() {
        return {
            flagArray: [
                {
                    country: "it",
                    flagIcon: "ðŸ‡®ðŸ‡¹"
                },
                {
                    country: "en",
                    flagIcon: "ðŸ‡¬ðŸ‡§"
                },
                {
                    country: "fr",
                    flagIcon: "ðŸ‡«ðŸ‡·"
                },
                {
                    country: "ja",
                    flagIcon: "ðŸ‡¯ðŸ‡µ"
                },
                {
                    country: "pt",
                    flagIcon: "ðŸ‡µðŸ‡¹"
                },
                {
                    country: "zh",
                    flagIcon: "ðŸ‡¨ðŸ‡³"
                },
            ],
        };
    },
    methods: {
        getFlagIcon(checkFlag) {
            for (let i = 0; i < this.flagArray.length; i++) {
                if (checkFlag === this.flagArray[i].country) {
                    return this.flagArray[i].flagIcon;
                }
            }
            return checkFlag;
        }
    },
}
</script>

<template>
    <div class="card">
        <ul>
            <li>
                <img v-if="cardObj.poster_path === null"
                    src="https://placehold.co/342x513?text=Immagine+non+disponibile" alt="Immagine non disponibile">
                <img v-else :src="`https://image.tmdb.org/t/p/w342/${cardObj.poster_path}`"
                    :alt="`Poster di ${cardObj.title || cardObj.name}`">
            </li>
            <li>Titolo: {{ cardObj.title || cardObj.name }}</li>
            <li>Titolo originale: {{ cardObj.original_title || cardObj.original_name }}</li>
            <li> Lingua: {{ getFlagIcon(cardObj.original_language) }}</li>
            <li>Voto: {{ cardObj.vote_average }}</li>
        </ul>
    </div>
</template>

<style scoped lang="scss"></style>
